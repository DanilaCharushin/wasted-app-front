(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208333"],{a47a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.loading?n("Loader"):n("div",[n("h4",[t._v("Список учреждений")]),n("DistrictList",{attrs:{districts:t.districts}}),n("br"),n("div",{staticClass:"btn-container"},[n("button",{staticClass:"btn waves-effect waves-light",on:{click:t.exportData}},[t._v(" Экспорт данных ")])])],1)],1)},s=[],a=(n("96cf"),n("1da1")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.districts,(function(e){return n("li",{key:e.name["id"]},[n("q-expansion-item",{attrs:{label:e.name["name"]}},t._l(e["schools"],(function(e){return n("router-link",{key:e["INN"],attrs:{to:"/schoolcard/"+e["INN"]}},[t._v(" "+t._s(e["shortname"])+" "),n("br")])})),1)],1)})),0)])},c=[],o=(n("4160"),n("b0c0"),n("159b"),{data:function(){return{distrs:[]}},props:{districts:{type:Array}},name:"DistrictList",created:function(){var t=this;this.districts.forEach((function(e){t.distrs.push(e.name["name"])}))}}),u=o,l=n("2877"),p=n("fe09"),d=Object(l["a"])(u,i,c,!1,null,"64fe8282",null),f=d.exports;d.options.components=Object.assign(Object.create(d.options.components||null),d.options.components||{},{QExpansionItem:p["c"]});var h={name:"Districts",components:{DistrictList:f},data:function(){return{districts:[],loading:!0,error:!1}},methods:{exportData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("exportInfo");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},beforeCreate:function(){var t=localStorage.getItem("permission");console.log("checkPerm"),"5"!==t&&"1"!==t&&"10"!==t&&(alert("У вас недостаточно прав!"),this.$router.push("/"))},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("fetchDistricts");case 3:t.districts=e.sent,t.loading=!1,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),t.error=!0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},m=h,v=Object(l["a"])(m,r,s,!1,null,"4f1e1a0f",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d208333.8b3785a6.js.map