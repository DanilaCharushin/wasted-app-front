{"version":3,"sources":["webpack:///./src/views/UpdateInfo.vue?574b","webpack:///./src/views/UpdateInfo.vue","webpack:///./src/views/UpdateInfo.vue?c2cf","webpack:///./src/views/UpdateInfo.vue?1085"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","$route","params","_s","mainInfo","shortname","on","$event","preventDefault","submitHandler","model","value","callback","$$v","$set","expression","form_types","edu_types","edu_type","other_edu_type","_e","staticRenderFns","name","data","loading","INN","form_type","mounted","info","$store","getters","token","localStorage","getItem","inn","dispatch","console","log","methods","includes","slice","indexOf","$router","push","component","options","components","Object","assign","create","QInput","QSelect"],"mappings":"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","file":"js/chunk-2d0dae86.6d667c36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",staticStyle:{\"width\":\"80%\"}},[(_vm.loading)?_c('Loader'):_c('div',[_c('h4',[_vm._v(\"Редактирование основных сведений учреждения \"),_c('router-link',{attrs:{\"to\":(\"/school/\" + (this.$route.params['inn']))}},[_vm._v(_vm._s(_vm.mainInfo.shortname))])],1),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitHandler($event)}}},[_c('div',{staticClass:\"q-pa-sm\"},[_c('div',{staticClass:\"input-field-shortname\"},[_c('label',[_vm._v(\"Краткое название\")]),_c('q-input',{attrs:{\"outlined\":\"\",\"placeholder\":\"Введите краткое название\"},model:{value:(_vm.mainInfo.shortname),callback:function ($$v) {_vm.$set(_vm.mainInfo, \"shortname\", $$v)},expression:\"mainInfo.shortname\"}})],1),_c('div',{staticClass:\"input-field-fullname\"},[_c('label',[_vm._v(\"Полное название\")]),_c('q-input',{attrs:{\"outlined\":\"\",\"placeholder\":\"Введите полное название\"},model:{value:(_vm.mainInfo.name),callback:function ($$v) {_vm.$set(_vm.mainInfo, \"name\", $$v)},expression:\"mainInfo.name\"}})],1),_c('div',{staticClass:\"select-type-field\"},[_c('label',[_vm._v(\"Вид организационно-правовой форм\")]),_c('q-select',{attrs:{\"outlined\":\"\",\"options\":_vm.form_types},model:{value:(_vm.mainInfo.form_type),callback:function ($$v) {_vm.$set(_vm.mainInfo, \"form_type\", $$v)},expression:\"mainInfo.form_type\"}})],1),_c('div',{staticClass:\"select-type-field\"},[_c('label',[_vm._v(\"Вид образования\")]),_c('q-select',{attrs:{\"outlined\":\"\",\"options\":_vm.edu_types},model:{value:(_vm.mainInfo.edu_type),callback:function ($$v) {_vm.$set(_vm.mainInfo, \"edu_type\", $$v)},expression:\"mainInfo.edu_type\"}})],1),(_vm.mainInfo.edu_type === 'Прочее')?_c('div',{staticClass:\"input-field-fullname\"},[_c('label',[_vm._v(\"Вид образования\")]),_c('q-input',{attrs:{\"outlined\":\"\",\"hint\":\"Формат: Аббревиатура - расшифровка\",\"placeholder\":\"Введите вид образования\"},model:{value:(_vm.other_edu_type),callback:function ($$v) {_vm.other_edu_type=$$v},expression:\"other_edu_type\"}})],1):_vm._e()]),_c('button',{staticClass:\"btn waves-effect waves-light\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Сохранить \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"UpdateInfo\",\n  data: () => ({\n    form_types: ['МКУ - муниципальное казенное учреждение',\n      'МАУ - муниципальное автономное учреждение',\n      'МБУ - муниципальное бюджетное учреждение',\n      'МБОУ - муниципальное бюджетное общеобразовательное учреждение',\n      'МКОУ - муниципальное казенное общеобразовательное учреждение',\n      'МАОУ - муниципальное автономное общеобразовательное учреждение',\n      'МКДОУ - муниципальное казенное дошкольное образовательное учреждение',\n      'МАДОУ - муниципальное автономное дошкольное образовательное учреждение',\n      'МБДОУ - муниципальное бюджетное дошкольное образовательное учреждение'],\n    edu_types: ['Гимназия - гимназия',\n      'Прогимназия - прогимназия',\n      'Лицей - лицей',\n      'СОШ – средняя общеобразовательная школа',\n      'ООШ – основная общеобразовательная школа',\n      'ШИ – школа-интернат',\n      'В(С)Ш - вечерняя (сменная) школа',\n      'С(К)Ш - специальная (коррекционная) школа',\n      'С(К)ШИ - специальная (коррекционная) школа-интернат',\n      'С(К)НШ - специальная (коррекционная) начальная школа',\n      'д/с – детский сад',\n      'ДО – дополнительное образование',\n      'ДПО – дополнительное профессиональное образование',\n      'Прочее'],\n    other_edu_type: null,\n    loading: true,\n    mainInfo: {\n      INN: null,\n      form_type: null,\n      edu_type: null,\n      shortname: null,\n      name: null,\n    }\n  }),\n  async mounted() {\n    try {\n      let info = this.$store.getters.info\n      const token = localStorage.getItem('token')\n      const inn = this.$route.params['inn']\n      info = await this.$store.dispatch('fetchInfo', {token, inn})\n\n\n      this.mainInfo.INN = info['INN']\n      this.mainInfo.name = info['name']\n      this.mainInfo.edu_type = info['edu_type']\n      this.mainInfo.form_type = info['form_type']\n      this.mainInfo.shortname = info['shortname']\n\n\n\n      this.loading = false\n    } catch (e) {\n      console.log(e)\n    }\n  },\n  methods: {\n    async submitHandler() {\n      try {\n        if (this.mainInfo.edu_type.includes('-')) {\n          this.mainInfo.edu_type = this.mainInfo.edu_type.slice(0, this.mainInfo.edu_type.indexOf(' '))\n        }\n        if (this.mainInfo.form_type.includes('-')) {\n          this.mainInfo.form_type = this.mainInfo.form_type.slice(0, this.mainInfo.form_type.indexOf(' '))\n        }\n        if (this.other_edu_type) {\n          if (this.other_edu_type.includes('-')) {\n            this.mainInfo.edu_type = this.other_edu_type.slice(0, this.other_edu_type.indexOf(' '))\n          } else\n          this.mainInfo.edu_type = this.other_edu_type\n        }\n        console.log(this.mainInfo)\n        await this.$store.dispatch('updateInfo', this.mainInfo)\n        await this.$router.push(`/school/${this.mainInfo.INN}`)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateInfo.vue?vue&type=template&id=cbaad4fc&scoped=true&\"\nimport script from \"./UpdateInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbaad4fc\",\n  null\n  \n)\n\nexport default component.exports\nimport {QInput,QSelect} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QInput,QSelect})\n"],"sourceRoot":""}