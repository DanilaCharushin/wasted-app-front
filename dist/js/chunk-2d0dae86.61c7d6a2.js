(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dae86"],{"6e34":function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container",staticStyle:{width:"80%"}},[e.loading?t("Loader"):t("div",[t("h4",[e._v("Редактирование основных сведений учреждения "),t("router-link",{attrs:{to:"/school/"+this.$route.params["inn"]}},[e._v(e._s(e.mainInfo.shortname))])],1),t("form",{on:{submit:function(n){return n.preventDefault(),e.submitHandler(n)}}},[t("div",{staticClass:"q-pa-sm"},[t("div",{staticClass:"input-field-shortname"},[t("label",[e._v("Краткое название")]),t("q-input",{attrs:{outlined:"",placeholder:"Введите краткое название"},model:{value:e.mainInfo.shortname,callback:function(n){e.$set(e.mainInfo,"shortname",n)},expression:"mainInfo.shortname"}})],1),t("div",{staticClass:"input-field-fullname"},[t("label",[e._v("Полное название")]),t("q-input",{attrs:{outlined:"",placeholder:"Введите полное название"},model:{value:e.mainInfo.name,callback:function(n){e.$set(e.mainInfo,"name",n)},expression:"mainInfo.name"}})],1),t("div",{staticClass:"select-type-field"},[t("label",[e._v("Вид организационно-правовой форм")]),t("q-select",{attrs:{outlined:"",options:e.form_types},model:{value:e.mainInfo.form_type,callback:function(n){e.$set(e.mainInfo,"form_type",n)},expression:"mainInfo.form_type"}})],1),t("div",{staticClass:"select-type-field"},[t("label",[e._v("Вид образования")]),t("q-select",{attrs:{outlined:"",options:e.edu_types},model:{value:e.mainInfo.edu_type,callback:function(n){e.$set(e.mainInfo,"edu_type",n)},expression:"mainInfo.edu_type"}})],1),"Прочее"===e.mainInfo.edu_type?t("div",{staticClass:"input-field-fullname"},[t("label",[e._v("Вид образования")]),t("q-input",{attrs:{outlined:"",hint:"Формат: Аббревиатура - расшифровка",placeholder:"Введите вид образования"},model:{value:e.other_edu_type,callback:function(n){e.other_edu_type=n},expression:"other_edu_type"}})],1):e._e()]),t("button",{staticClass:"btn waves-effect waves-light",attrs:{type:"submit"}},[e._v(" Сохранить ")])])])],1)},o=[],i=(t("caad"),t("c975"),t("fb6a"),t("b0c0"),t("2532"),t("96cf"),t("1da1")),s={name:"UpdateInfo",data:function(){return{form_types:["МКУ - муниципальное казенное учреждение","МАУ - муниципальное автономное учреждение","МБУ - муниципальное бюджетное учреждение","МБОУ - муниципальное бюджетное общеобразовательное учреждение","МКОУ - муниципальное казенное общеобразовательное учреждение","МАОУ - муниципальное автономное общеобразовательное учреждение","МКДОУ - муниципальное казенное дошкольное образовательное учреждение","МАДОУ - муниципальное автономное дошкольное образовательное учреждение","МБДОУ - муниципальное бюджетное дошкольное образовательное учреждение"],edu_types:["Гимназия - гимназия","Прогимназия - прогимназия","Лицей - лицей","СОШ – средняя общеобразовательная школа","ООШ – основная общеобразовательная школа","ШИ – школа-интернат","В(С)Ш - вечерняя (сменная) школа","С(К)Ш - специальная (коррекционная) школа","С(К)ШИ - специальная (коррекционная) школа-интернат","С(К)НШ - специальная (коррекционная) начальная школа","д/с – детский сад","ДО – дополнительное образование","ДПО – дополнительное профессиональное образование","Прочее"],other_edu_type:null,loading:!0,mainInfo:{INN:null,form_type:null,edu_type:null,shortname:null,name:null}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var t,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t=e.$store.getters.info,a=localStorage.getItem("token"),o=e.$route.params["inn"],n.next=6,e.$store.dispatch("fetchInfo",{token:a,inn:o});case 6:t=n.sent,e.mainInfo.INN=t["INN"],e.mainInfo.name=t["name"],e.mainInfo.edu_type=t["edu_type"],e.mainInfo.form_type=t["form_type"],e.mainInfo.shortname=t["shortname"],e.loading=!1,n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](0),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()},methods:{submitHandler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.mainInfo.edu_type.includes("-")&&(e.mainInfo.edu_type=e.mainInfo.edu_type.slice(0,e.mainInfo.edu_type.indexOf(" "))),e.mainInfo.form_type.includes("-")&&(e.mainInfo.form_type=e.mainInfo.form_type.slice(0,e.mainInfo.form_type.indexOf(" "))),e.other_edu_type&&(e.other_edu_type.includes("-")?e.mainInfo.edu_type=e.other_edu_type.slice(0,e.other_edu_type.indexOf(" ")):e.mainInfo.edu_type=e.other_edu_type),console.log(e.mainInfo),n.next=7,e.$store.dispatch("updateInfo",e.mainInfo);case 7:return n.next=9,e.$router.push("/school/".concat(e.mainInfo.INN));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()}}},r=s,l=t("2877"),u=t("fe09"),c=Object(l["a"])(r,a,o,!1,null,"cbaad4fc",null);n["default"]=c.exports;c.options.components=Object.assign(Object.create(c.options.components||null),c.options.components||{},{QInput:u["j"],QSelect:u["p"]})}}]);
//# sourceMappingURL=chunk-2d0dae86.61c7d6a2.js.map